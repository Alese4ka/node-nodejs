(()=>{var e={998:(e,t,n)=>{const r=n(896),o=n(928),s=n(857),i=n(982),a=n(56).version,c=/(?:^|^)\s*(?:export\s+)?([\w.-]+)(?:\s*=\s*?|:\s+?)(\s*'(?:\\'|[^'])*'|\s*"(?:\\"|[^"])*"|\s*`(?:\\`|[^`])*`|[^#\r\n]+)?\s*(?:#.*)?(?:$|$)/gm;function l(e){console.log(`[dotenv@${a}][DEBUG] ${e}`)}function f(e){return e&&e.DOTENV_KEY&&e.DOTENV_KEY.length>0?e.DOTENV_KEY:process.env.DOTENV_KEY&&process.env.DOTENV_KEY.length>0?process.env.DOTENV_KEY:""}function d(e,t){let n;try{n=new URL(t)}catch(e){if("ERR_INVALID_URL"===e.code){const e=new Error("INVALID_DOTENV_KEY: Wrong format. Must be in valid uri format like dotenv://:key_1234@dotenvx.com/vault/.env.vault?environment=development");throw e.code="INVALID_DOTENV_KEY",e}throw e}const r=n.password;if(!r){const e=new Error("INVALID_DOTENV_KEY: Missing key part");throw e.code="INVALID_DOTENV_KEY",e}const o=n.searchParams.get("environment");if(!o){const e=new Error("INVALID_DOTENV_KEY: Missing environment part");throw e.code="INVALID_DOTENV_KEY",e}const s=`DOTENV_VAULT_${o.toUpperCase()}`,i=e.parsed[s];if(!i){const e=new Error(`NOT_FOUND_DOTENV_ENVIRONMENT: Cannot locate environment ${s} in your .env.vault file.`);throw e.code="NOT_FOUND_DOTENV_ENVIRONMENT",e}return{ciphertext:i,key:r}}function p(e){let t=null;if(e&&e.path&&e.path.length>0)if(Array.isArray(e.path))for(const n of e.path)r.existsSync(n)&&(t=n.endsWith(".vault")?n:`${n}.vault`);else t=e.path.endsWith(".vault")?e.path:`${e.path}.vault`;else t=o.resolve(process.cwd(),".env.vault");return r.existsSync(t)?t:null}function u(e){return"~"===e[0]?o.join(s.homedir(),e.slice(1)):e}const v={configDotenv:function(e){const t=o.resolve(process.cwd(),".env");let n="utf8";const s=Boolean(e&&e.debug);e&&e.encoding?n=e.encoding:s&&l("No encoding is specified. UTF-8 is used by default");let i,a=[t];if(e&&e.path)if(Array.isArray(e.path)){a=[];for(const t of e.path)a.push(u(t))}else a=[u(e.path)];const c={};for(const t of a)try{const o=v.parse(r.readFileSync(t,{encoding:n}));v.populate(c,o,e)}catch(e){s&&l(`Failed to load ${t} ${e.message}`),i=e}let f=process.env;return e&&null!=e.processEnv&&(f=e.processEnv),v.populate(f,c,e),i?{parsed:c,error:i}:{parsed:c}},_configVault:function(e){console.log(`[dotenv@${a}][INFO] Loading env from encrypted .env.vault`);const t=v._parseVault(e);let n=process.env;return e&&null!=e.processEnv&&(n=e.processEnv),v.populate(n,t,e),{parsed:t}},_parseVault:function(e){const t=p(e),n=v.configDotenv({path:t});if(!n.parsed){const e=new Error(`MISSING_DATA: Cannot parse ${t} for an unknown reason`);throw e.code="MISSING_DATA",e}const r=f(e).split(","),o=r.length;let s;for(let e=0;e<o;e++)try{const t=d(n,r[e].trim());s=v.decrypt(t.ciphertext,t.key);break}catch(t){if(e+1>=o)throw t}return v.parse(s)},config:function(e){if(0===f(e).length)return v.configDotenv(e);const t=p(e);return t?v._configVault(e):(n=`You set DOTENV_KEY but you are missing a .env.vault file at ${t}. Did you forget to build it?`,console.log(`[dotenv@${a}][WARN] ${n}`),v.configDotenv(e));var n},decrypt:function(e,t){const n=Buffer.from(t.slice(-64),"hex");let r=Buffer.from(e,"base64");const o=r.subarray(0,12),s=r.subarray(-16);r=r.subarray(12,-16);try{const e=i.createDecipheriv("aes-256-gcm",n,o);return e.setAuthTag(s),`${e.update(r)}${e.final()}`}catch(e){const t=e instanceof RangeError,n="Invalid key length"===e.message,r="Unsupported state or unable to authenticate data"===e.message;if(t||n){const e=new Error("INVALID_DOTENV_KEY: It must be 64 characters long (or more)");throw e.code="INVALID_DOTENV_KEY",e}if(r){const e=new Error("DECRYPTION_FAILED: Please check your DOTENV_KEY");throw e.code="DECRYPTION_FAILED",e}throw e}},parse:function(e){const t={};let n,r=e.toString();for(r=r.replace(/\r\n?/gm,"\n");null!=(n=c.exec(r));){const e=n[1];let r=n[2]||"";r=r.trim();const o=r[0];r=r.replace(/^(['"`])([\s\S]*)\1$/gm,"$2"),'"'===o&&(r=r.replace(/\\n/g,"\n"),r=r.replace(/\\r/g,"\r")),t[e]=r}return t},populate:function(e,t,n={}){const r=Boolean(n&&n.debug),o=Boolean(n&&n.override);if("object"!=typeof t){const e=new Error("OBJECT_REQUIRED: Please check the processEnv argument being passed to populate");throw e.code="OBJECT_REQUIRED",e}for(const n of Object.keys(t))Object.prototype.hasOwnProperty.call(e,n)?(!0===o&&(e[n]=t[n]),r&&l(!0===o?`"${n}" is already defined and WAS overwritten`:`"${n}" is already defined and was NOT overwritten`)):e[n]=t[n]}};e.exports.configDotenv=v.configDotenv,e.exports._configVault=v._configVault,e.exports._parseVault=v._parseVault,e.exports.config=v.config,e.exports.decrypt=v.decrypt,e.exports.parse=v.parse,e.exports.populate=v.populate,e.exports=v},229:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.server=void 0;const o=r(n(611)),s=r(n(16)),i=r(n(24)),a=r(n(907)),c=r(n(161)),l=n(293),f=n(293),d=r(n(928)),p=n(211);r(n(998)).default.config();const u=process.env.PORT,v=d.default.join("./src/data.json"),g=(0,l.v4)(),y=i.default.readFileSync("./src/data.json","utf-8");let h=JSON.parse(y);if(t.server=o.default.createServer(((e,t)=>{try{if(e.url){const n=s.default.parse(e.url,!0),r=n.pathname.split("/").pop();if("/api/users"===n.pathname&&"GET"===e.method&&(t.writeHead(200,{"Content-Type":"application/json"}),t.end(JSON.stringify(h,null,2))),n.pathname?.includes("/api/users/")&&"GET"===e.method&&r&&(r&&(0,f.validate)(r)?h.find((e=>e.id===r))?(t.writeHead(200,{"Content-Type":"application/json"}),t.end(JSON.stringify(h.find((e=>e.id===r)),null,2))):(t.writeHead(404,{"Content-Type":"application/json"}),t.end("User's doesn't exist")):(t.writeHead(400,{"Content-Type":"application/json"}),t.end("User's id is invalid"))),"/api/users"===n.pathname&&"POST"===e.method){let n="";e.on("data",(e=>{n+=e.toString()})),e.on("end",(()=>{const e=JSON.parse(n);if(e.username&&e.age&&e.hobbies){const n={id:g,...e};h.push(n),i.default.createWriteStream(v).write(JSON.stringify(h,null,2)),t.headersSent||(t.writeHead(201,{"Content-Type":"application/json"}),t.end("User was created"))}else t.headersSent||(t.writeHead(400,{"Content-Type":"application/json"}),t.end("Request body does not contain required fields"))}))}if(n.pathname?.includes("/api/users/")&&r&&"PUT"===e.method){let n="";e.on("data",(e=>{n+=e.toString()})),e.on("end",(()=>{const e=JSON.parse(n),o=(0,p.getUser)(r,h);if("string"==typeof o)t.writeHead(400,{"Content-Type":"application/json"}),t.end(o);else if(o){const n={...o,...e};h=h.filter((e=>e.id!==r)),h.push(n),i.default.createWriteStream(v).write(JSON.stringify(h,null,2)),t.writeHead(200,{"Content-Type":"application/json"}),t.end("User was updated")}else t.writeHead(404,{"Content-Type":"application/json"}),t.end("User's doesn't exist")}))}if(n.pathname?.includes("/api/users/")&&r&&"DELETE"===e.method){const e=(0,p.getUser)(r,h);"string"==typeof e?(t.writeHead(400,{"Content-Type":"application/json"}),t.end(e)):e?(h=h.filter((e=>e.id!==r)),i.default.createWriteStream(v).write(JSON.stringify(h,null,2)),t.writeHead(204,{"Content-Type":"application/json"}),t.end("User was deleted")):(t.writeHead(404,{"Content-Type":"application/json"}),t.end("User's doesn't exist"))}n.pathname?.includes("/api/users/")||(t.writeHead(404,{"Content-Type":"application/json"}),t.end("Information doesn't found. Please check your request"))}}catch{t.headersSent||(t.writeHead(500,{"Content-Type":"application/json"}),t.end("Sorry. Server is unreachable. Try later."))}})),a.default.isPrimary){const e=c.default.cpus().length;console.log(`Master process is running on PID: ${process.pid}`);for(let t=0;t<e;t++)a.default.fork();a.default.on("exit",((e,t,n)=>{console.log(`Worker ${e.process.pid} died. Restarting...`),a.default.fork()}))}else{if(u&&a.default.worker){let e=u;t.server.listen(e),e=u.slice(0,3)+a.default.worker.id,console.log(e)}console.log(`Worker process is running on PID: ${process.pid}`)}},211:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getUser=void 0;const r=n(293);t.getUser=(e,t)=>e&&(0,r.validate)(e)?!!t.find((t=>t.id===e))&&t.find((t=>t.id===e)):"User's id is invalid"},293:(e,t,n)=>{"use strict";n.r(t),n.d(t,{MAX:()=>r,NIL:()=>o,parse:()=>a,stringify:()=>f,v1:()=>w,v1ToV6:()=>_,v3:()=>T,v4:()=>b,v5:()=>I,v6:()=>O,v6ToV1:()=>U,v7:()=>A,validate:()=>i,version:()=>x});const r="ffffffff-ffff-ffff-ffff-ffffffffffff",o="00000000-0000-0000-0000-000000000000",s=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/i,i=function(e){return"string"==typeof e&&s.test(e)},a=function(e){if(!i(e))throw TypeError("Invalid UUID");let t;const n=new Uint8Array(16);return n[0]=(t=parseInt(e.slice(0,8),16))>>>24,n[1]=t>>>16&255,n[2]=t>>>8&255,n[3]=255&t,n[4]=(t=parseInt(e.slice(9,13),16))>>>8,n[5]=255&t,n[6]=(t=parseInt(e.slice(14,18),16))>>>8,n[7]=255&t,n[8]=(t=parseInt(e.slice(19,23),16))>>>8,n[9]=255&t,n[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,n[11]=t/4294967296&255,n[12]=t>>>24&255,n[13]=t>>>16&255,n[14]=t>>>8&255,n[15]=255&t,n},c=[];for(let e=0;e<256;++e)c.push((e+256).toString(16).slice(1));function l(e,t=0){return(c[e[t+0]]+c[e[t+1]]+c[e[t+2]]+c[e[t+3]]+"-"+c[e[t+4]]+c[e[t+5]]+"-"+c[e[t+6]]+c[e[t+7]]+"-"+c[e[t+8]]+c[e[t+9]]+"-"+c[e[t+10]]+c[e[t+11]]+c[e[t+12]]+c[e[t+13]]+c[e[t+14]]+c[e[t+15]]).toLowerCase()}const f=function(e,t=0){const n=l(e,t);if(!i(n))throw TypeError("Stringified UUID is invalid");return n},d=require("node:crypto");var p=n.n(d);const u=new Uint8Array(256);let v,g,y=u.length;function h(){return y>u.length-16&&(p().randomFillSync(u),y=0),u.slice(y,y+=16)}let m=0,E=0;const w=function(e,t,n){let r=t&&n||0;const o=t||new Array(16);let s=(e=e||{}).node,i=e.clockseq;if(e._v6||(s||(s=v),null==i&&(i=g)),null==s||null==i){const t=e.random||(e.rng||h)();null==s&&(s=[t[0],t[1],t[2],t[3],t[4],t[5]],v||e._v6||(s[0]|=1,v=s)),null==i&&(i=16383&(t[6]<<8|t[7]),void 0!==g||e._v6||(g=i))}let a=void 0!==e.msecs?e.msecs:Date.now(),c=void 0!==e.nsecs?e.nsecs:E+1;const f=a-m+(c-E)/1e4;if(f<0&&void 0===e.clockseq&&(i=i+1&16383),(f<0||a>m)&&void 0===e.nsecs&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");m=a,E=c,g=i,a+=122192928e5;const d=(1e4*(268435455&a)+c)%4294967296;o[r++]=d>>>24&255,o[r++]=d>>>16&255,o[r++]=d>>>8&255,o[r++]=255&d;const p=a/4294967296*1e4&268435455;o[r++]=p>>>8&255,o[r++]=255&p,o[r++]=p>>>24&15|16,o[r++]=p>>>16&255,o[r++]=i>>>8|128,o[r++]=255&i;for(let e=0;e<6;++e)o[r+e]=s[e];return t||l(o)};function _(e){const t=(n="string"==typeof e?a(e):e,Uint8Array.of((15&n[6])<<4|n[7]>>4&15,(15&n[7])<<4|(240&n[4])>>4,(15&n[4])<<4|(240&n[5])>>4,(15&n[5])<<4|(240&n[0])>>4,(15&n[0])<<4|(240&n[1])>>4,(15&n[1])<<4|(240&n[2])>>4,96|15&n[2],n[3],n[8],n[9],n[10],n[11],n[12],n[13],n[14],n[15]));var n;return"string"==typeof e?l(t):t}function D(e,t,n){function r(e,r,o,s){var i;if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));const t=[];for(let n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t}(e)),"string"==typeof r&&(r=a(r)),16!==(null===(i=r)||void 0===i?void 0:i.length))throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let c=new Uint8Array(16+e.length);if(c.set(r),c.set(e,r.length),c=n(c),c[6]=15&c[6]|t,c[8]=63&c[8]|128,o){s=s||0;for(let e=0;e<16;++e)o[s+e]=c[e];return o}return l(c)}try{r.name=e}catch(e){}return r.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",r.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",r}const T=D("v3",48,(function(e){return Array.isArray(e)?e=Buffer.from(e):"string"==typeof e&&(e=Buffer.from(e,"utf8")),p().createHash("md5").update(e).digest()})),N={randomUUID:p().randomUUID},b=function(e,t,n){if(N.randomUUID&&!t&&!e)return N.randomUUID();const r=(e=e||{}).random||(e.rng||h)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=r[e];return t}return l(r)},I=D("v5",80,(function(e){return Array.isArray(e)?e=Buffer.from(e):"string"==typeof e&&(e=Buffer.from(e,"utf8")),p().createHash("sha1").update(e).digest()}));function O(e={},t,n=0){let r=w({...e,_v6:!0},new Uint8Array(16));if(r=_(r),t){for(let e=0;e<16;e++)t[n+e]=r[e];return t}return l(r)}function U(e){const t=(n="string"==typeof e?a(e):e,Uint8Array.of((15&n[3])<<4|n[4]>>4&15,(15&n[4])<<4|(240&n[5])>>4,(15&n[5])<<4|15&n[6],n[7],(15&n[1])<<4|(240&n[2])>>4,(15&n[2])<<4|(240&n[3])>>4,16|(240&n[0])>>4,(15&n[0])<<4|(240&n[1])>>4,n[8],n[9],n[10],n[11],n[12],n[13],n[14],n[15]));var n;return"string"==typeof e?l(t):t}let j=null,S=null,V=0;const A=function(e,t,n){e=e||{};let r=t&&n||0;const o=t||new Uint8Array(16),s=e.random||(e.rng||h)(),i=void 0!==e.msecs?e.msecs:Date.now();let a=void 0!==e.seq?e.seq:null,c=S,f=j;return i>V&&void 0===e.msecs&&(V=i,null!==a&&(c=null,f=null)),null!==a&&(a>2147483647&&(a=2147483647),c=a>>>19&4095,f=524287&a),null!==c&&null!==f||(c=127&s[6],c=c<<8|s[7],f=63&s[8],f=f<<8|s[9],f=f<<5|s[10]>>>3),i+1e4>V&&null===a?++f>524287&&(f=0,++c>4095&&(c=0,V++)):V=i,S=c,j=f,o[r++]=V/1099511627776&255,o[r++]=V/4294967296&255,o[r++]=V/16777216&255,o[r++]=V/65536&255,o[r++]=V/256&255,o[r++]=255&V,o[r++]=c>>>4&15|112,o[r++]=255&c,o[r++]=f>>>13&63|128,o[r++]=f>>>5&255,o[r++]=f<<3&255|7&s[10],o[r++]=s[11],o[r++]=s[12],o[r++]=s[13],o[r++]=s[14],o[r++]=s[15],t||l(o)},x=function(e){if(!i(e))throw TypeError("Invalid UUID");return parseInt(e.slice(14,15),16)}},907:e=>{"use strict";e.exports=require("cluster")},982:e=>{"use strict";e.exports=require("crypto")},896:e=>{"use strict";e.exports=require("fs")},611:e=>{"use strict";e.exports=require("http")},24:e=>{"use strict";e.exports=require("node:fs")},161:e=>{"use strict";e.exports=require("node:os")},857:e=>{"use strict";e.exports=require("os")},928:e=>{"use strict";e.exports=require("path")},16:e=>{"use strict";e.exports=require("url")},56:e=>{"use strict";e.exports=JSON.parse('{"name":"dotenv","version":"16.4.5","description":"Loads environment variables from .env file","main":"lib/main.js","types":"lib/main.d.ts","exports":{".":{"types":"./lib/main.d.ts","require":"./lib/main.js","default":"./lib/main.js"},"./config":"./config.js","./config.js":"./config.js","./lib/env-options":"./lib/env-options.js","./lib/env-options.js":"./lib/env-options.js","./lib/cli-options":"./lib/cli-options.js","./lib/cli-options.js":"./lib/cli-options.js","./package.json":"./package.json"},"scripts":{"dts-check":"tsc --project tests/types/tsconfig.json","lint":"standard","lint-readme":"standard-markdown","pretest":"npm run lint && npm run dts-check","test":"tap tests/*.js --100 -Rspec","test:coverage":"tap --coverage-report=lcov","prerelease":"npm test","release":"standard-version"},"repository":{"type":"git","url":"git://github.com/motdotla/dotenv.git"},"funding":"https://dotenvx.com","keywords":["dotenv","env",".env","environment","variables","config","settings"],"readmeFilename":"README.md","license":"BSD-2-Clause","devDependencies":{"@definitelytyped/dtslint":"^0.0.133","@types/node":"^18.11.3","decache":"^4.6.1","sinon":"^14.0.1","standard":"^17.0.0","standard-markdown":"^7.1.0","standard-version":"^9.5.0","tap":"^16.3.0","tar":"^6.1.11","typescript":"^4.8.4"},"engines":{"node":">=12"},"browser":{"fs":false}}')}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var s=t[r]={exports:{}};return e[r].call(s.exports,s,s.exports,n),s.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n(229)})();